<!DOCTYPE html>
<html>
    <head>
        <title>VMR-exp</title>
        <script src="jspsych.js"></script>
        <script src="jspsych-html-button-response.js"></script>
        <script src="jspsych-vmr.js"></script>
        <link href="jspsych_myStyle.css" rel="stylesheet" type="text/css"></link>
    </head>
<body>

<!-- EVAN TESTING  -->

<script>

//---------------------------------------------------------------
//----------- Create structure for experiment: ------------------
//---------------------------------------------------------------

/* create empty timeline */
var timeline = [];


/* create instruction objects */
var instructions1 = {
    type: 'html-button-response',
    stimulus: '<h3>Welcome to the experiment</h3>' + 
    "<br/>" +
    "<p>Move the cursor from the home position to the target.<p>" +
    "<br/>" + 
    "<p>Let's start with some practice.<p>" +
    "<br/>",
    choices: ['<h2>Start Practice</h2>']
};

var instructions2 = {
    type: 'html-button-response',
    stimulus: '<h3>End of practice. Well done!</h3>' + 
    "<br/>" +
    "<p>Click the button to start the experiment.<p>" +
    "<br/>",
    choices: ['<h2>Start Experiment</h2>']
};


/* create trial objects */
// basline trials (no perturbation)
var trial_baseline = {
  type: 'vmr',
  perturbation_angle: 0
  // cursor_radius: 6,
  // home_radius: 10,
  // target_radius: 12,
  // home_location: [500,500],
  // target_location: [500,700],
  // cursor_color: 'red',
  // home_color: 'white',
  // target_color: 'white',
  // background_color: 'black'
}

// experimental trials (perturbation)
var trial_pert = {
  type: 'vmr',
  perturbation_angle: -15
}

/* create block objects */
var practice_block = {
  timeline: [trial_baseline],
  //timeline_variables: [],
  repetitions: 2
}

var baseline_block = {
  timeline: [trial_baseline],
  repetitions: 10
}

var adaptation_block = {
  timeline: [trial_pert],
  repetitions: 30
}
//randomize_order: false




// now push everything to timeline
timeline.push(instructions1);
timeline.push(practice_block);
timeline.push(instructions2);
timeline.push(baseline_block);
timeline.push(adaptation_block);
timeline.push(baseline_block);


/* start the experiment */
jsPsych.init({
  timeline: timeline,
  on_finish: function(){ jsPsych.data.displayData(); }, //'csv'
  default_iti: 750
});

//   



</script>
</html>
